{#
    This file is part of the AMP Twig theme.

    (c) Beñat Espiña <benatespina@gmail.com>

    For the full copyright and license information, please view the LICENSE
    file that was distributed with this source code.
#}

{##
    A runtime-managed replacement for the HTML img tag.

    @param img_alt                string
    @param img_attribution        string
    @param img_class              string
    @param img_height             int
    @param img_heights            string          only matters when the layout is "responsive"
    @param img_id                 string
    @param img_layout             string          only it can be "nodisplay" or "responsive"
    @param img_media              string
    @param img_noloading          string          only it can be "noloimging"
    @param img_on                 string
    @param img_sizes              string
    @param img_src                string
    @param img_srcset             string
    @param img_width              int
#}

{% set fallback_content %}
    {% block img_fallback_content %}{% endblock img_fallback_content %}
{% endset fallback_content %}

{% set placeholder_content %}
    {% block img_placeholder_content %}{% endblock img_placeholder_content %}
{% endset placeholder_content %}

{% set alt = img_alt is not empty ? 'alt="' ~ img_alt ~ '"' %}
{% set attribution = img_attribution is not empty ? 'attribution="' ~ img_attribution ~ '"' %}
{% set class = img_class is not empty ? 'class="' ~ img_class ~ '"' %}
{% set height = img_height is not empty ? 'height="' ~ img_height ~ '"' %}
{% set heights = img_heights is not empty ? 'heights="' ~ img_heights ~ '"' %}
{% set id = img_id is not empty ? 'id="' ~ img_id ~ '"' %}
{% set layout = (img_layout == 'nodisplay' or img_layout == 'responsive') ? 'layout="' ~ img_layout ~ '"' %}
{% set media = img_media is not empty ? 'media="' ~ img_media ~ '"' %}
{% set noloimging = img_noloimging is not empty ? 'noloimging' %}
{% set on = img_on is not empty ? 'on="' ~ img_on ~ '"' %}
{% set sizes = img_sizes is not empty ? 'sizes="' ~ img_sizes ~ '"' %}
{% set src = img_src is not empty ? 'src="' ~ img_src ~ '"' %}
{% set srcset = img_src is not empty ? 'srcset="' ~ img_srcset ~ '"' %}
{% set width = img_width is not empty ? 'width="' ~ img_width ~ '"' %}

<amp-img {{ id }}
        {{ class }}
        {{ alt }}
        {{ attribution }}
        {{ height }}
        {{ heights }}
        {{ attribution }}
        {{ layout }}
        {{ media }}
        {{ noloimging }}
        {{ on }}
        {{ sizes }}
        {{ src }}
        {{ srcset }}
        {{ width }}>
    {{ fallback_content }}
    {{ placeholder_content }}
</amp-img>
