{#
    This file is part of the AMP Twig theme.

    (c) Beñat Espiña <benatespina@gmail.com>

    For the full copyright and license information, please view the LICENSE
    file that was distributed with this source code.
#}

{##
    Displays an iframe.

    @param iframe_class              string
    @param iframe_height             int
    @param iframe_id                 string
    @param iframe_layout             string          only it can be "fill", "fixed", "fixed-height", "flex-item", "nodisplay" or "responsive"
    @param iframe_resizable          string          only it can be "resizable"
    @param iframe_sandbox            string
    @param iframe_src                string*
    @param iframe_width              int
#}

{% set content %}
    {%- block iframe_children -%}{%- endblock iframe_children -%}
{% endset %}

{% set available_layouts = [
    'fill',
    'fixed',
    'fixed-height',
    'flex-item',
    'nodisplay',
    'responsive'
] %}

{% set iframe_layout = iframe_layout|default('responsive') %}
{% set iframe_sandbox = iframe_sandbox|default('allow-scripts') %}

{% set class = iframe_class|default ? 'class=' ~ iframe_class %}
{% set height = iframe_height ? 'height=' ~ iframe_height %}
{% set id = iframe_id|default ? 'id=' ~ iframe_id %}
{% set layout = iframe_layout in available_layouts ? 'layout=' ~ iframe_layout %}
{% set resizable = iframe_resizable|default ? 'resizable' %}
{% set sandbox = iframe_sandbox|default ? 'sandbox=' ~ iframe_sandbox %}
{% set width = iframe_width ? 'width=' ~ iframe_width %}

<amp-iframe {{ id }} {{ class }} {{ height }} {{ layout }} {{ resizable }} {{ sandbox }} src="{{ iframe_src }}" {{ width }}>
    {{ content }}
</amp-iframe>
