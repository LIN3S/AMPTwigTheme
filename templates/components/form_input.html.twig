{#
    This file is part of the AMP Twig theme.

    (c) Beñat Espiña <benatespina@gmail.com>

    For the full copyright and license information, please view the LICENSE
    file that was distributed with this source code.
#}

{##
    A component that displays the form input.

    @param form_input_class            string
    @param form_input_disabled         bool=false
    @param form_input_id               string
    @param form_input_pattern          string
    @param form_input_placeholder      string*
    @param form_input_required         bool=false
    @param form_input_type             string=text
#}

{% set form_input_disabled = form_input_disabled|default(false) %}
{% set form_input_required = form_input_required|default(false) %}
{% set form_input_type = form_input_type|default('text') %}
{% set not_allowed_types = ['button', 'file', 'image', 'password'] %}

{% set class = form_input_class|default ? 'class=form-input ' ~ form_input_class : 'class=form-input' %}
{% set disabled = form_input_disabled ? 'disabled' %}
{% set id = form_input_id|default ? 'id=' ~ form_input_id %}
{% set name = form_input_id|default ? 'name=' ~ form_input_id %}
{% set pattern = form_input_pattern|default ? 'pattern=' ~ form_input_pattern %}
{% set placeholder = form_input_placeholder|default ? 'placeholder=' ~ form_input_placeholder %}
{% set required = form_input_required ? 'required' %}
{% set type = form_input_type in not_allowed_types ? 'type=text' : 'type=' ~ form_input_type %}

<input {{ id }} {{ class }} {{ type }} {{ name }} {{ placeholder }} {{ required }} {{ disabled }} {{ pattern }} autocomplete="off" />
